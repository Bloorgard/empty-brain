{
  "id": "7cbcec68-7fa6-47bb-a38a-da689949a001",
  "revision": 0,
  "last_node_id": 225,
  "last_link_id": 334,
  "nodes": [
    {
      "id": 39,
      "type": "VAELoader",
      "pos": [
        -400,
        390
      ],
      "size": [
        337.76861572265625,
        58
      ],
      "flags": {},
      "order": 20,
      "mode": 0,
      "inputs": [
        {
          "name": "vae_name",
          "type": "COMBO",
          "widget": {
            "name": "vae_name"
          },
          "link": 295
        }
      ],
      "outputs": [
        {
          "name": "VAE",
          "type": "VAE",
          "links": [
            61,
            223
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.38",
        "Node name for S&R": "VAELoader",
        "models": [
          {
            "name": "ae.safetensors",
            "url": "https://huggingface.co/Comfy-Org/Lumina_Image_2.0_Repackaged/resolve/main/split_files/vae/ae.safetensors",
            "directory": "vae"
          }
        ]
      },
      "widgets_values": [
        "ae.safetensors"
      ],
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 38,
      "type": "DualCLIPLoader",
      "pos": [
        -400,
        210
      ],
      "size": [
        337.76861572265625,
        130
      ],
      "flags": {},
      "order": 21,
      "mode": 0,
      "inputs": [
        {
          "name": "clip_name1",
          "type": "COMBO",
          "widget": {
            "name": "clip_name1"
          },
          "link": 297
        },
        {
          "name": "clip_name2",
          "type": "COMBO",
          "widget": {
            "name": "clip_name2"
          },
          "link": 298
        }
      ],
      "outputs": [
        {
          "name": "CLIP",
          "type": "CLIP",
          "links": [
            59
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.38",
        "Node name for S&R": "DualCLIPLoader",
        "models": [
          {
            "name": "clip_l.safetensors",
            "url": "https://huggingface.co/comfyanonymous/flux_text_encoders/resolve/main/clip_l.safetensors",
            "directory": "text_encoders"
          },
          {
            "name": "t5xxl_fp8_e4m3fn_scaled.safetensors",
            "url": "https://huggingface.co/comfyanonymous/flux_text_encoders/resolve/main/t5xxl_fp8_e4m3fn_scaled.safetensors",
            "directory": "text_encoders"
          }
        ]
      },
      "widgets_values": [
        "clip_l.safetensors",
        "t5xxl_fp8_e4m3fn_scaled.safetensors",
        "flux",
        "default"
      ],
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 135,
      "type": "ConditioningZeroOut",
      "pos": [
        250,
        200
      ],
      "size": [
        240,
        26
      ],
      "flags": {
        "collapsed": false
      },
      "order": 33,
      "mode": 0,
      "inputs": [
        {
          "name": "conditioning",
          "type": "CONDITIONING",
          "link": 237
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            238
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.39",
        "Node name for S&R": "ConditioningZeroOut"
      },
      "widgets_values": []
    },
    {
      "id": 42,
      "type": "FluxKontextImageScale",
      "pos": [
        -50,
        570
      ],
      "size": [
        270,
        30
      ],
      "flags": {
        "collapsed": false
      },
      "order": 37,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 251
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            222,
            289
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.38",
        "Node name for S&R": "FluxKontextImageScale"
      },
      "widgets_values": []
    },
    {
      "id": 35,
      "type": "FluxGuidance",
      "pos": [
        250,
        90
      ],
      "size": [
        240,
        58
      ],
      "flags": {
        "collapsed": false
      },
      "order": 48,
      "mode": 0,
      "inputs": [
        {
          "name": "conditioning",
          "type": "CONDITIONING",
          "link": 292
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "slot_index": 0,
          "links": [
            57
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.38",
        "Node name for S&R": "FluxGuidance"
      },
      "widgets_values": [
        2.5
      ]
    },
    {
      "id": 185,
      "type": "MarkdownNote",
      "pos": [
        -1305.146240234375,
        511.9327697753906
      ],
      "size": [
        510,
        170
      ],
      "flags": {},
      "order": 0,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "title": "About VRAM",
      "properties": {},
      "widgets_values": [
        "For reference:\n- **fp8_scaled**: Requires about 20GB of VRAM.\n- **Original**: Requires about 32GB of VRAM.\n\n---\n\nä¾›å‚è€ƒï¼š\n-  **fp8_scaled** :  å¤§æ¦‚éœ€è¦ 20GB å·¦å³ VRAM \n- **åŽŸå§‹æƒé‡**:  åŽŸå§‹æƒé‡ï¼Œå¤§æ¦‚éœ€è¦ 32GB å·¦å³ VRAM \n"
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 186,
      "type": "MarkdownNote",
      "pos": [
        -1305.146240234375,
        731.932861328125
      ],
      "size": [
        510,
        170
      ],
      "flags": {},
      "order": 1,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "title": "Flux Kontext Prompt Techniques",
      "properties": {},
      "widgets_values": [
        "\n## Flux Kontext Prompt Techniques\n\n### 1. Basic Modifications\n- Simple and direct: `\"Change the car color to red\"`\n- Maintain style: `\"Change to daytime while maintaining the same style of the painting\"`\n\n### 2. Style Transfer\n**Principles:**\n- Clearly name style: `\"Transform to Bauhaus art style\"`\n- Describe characteristics: `\"Transform to oil painting with visible brushstrokes, thick paint texture\"`\n- Preserve composition: `\"Change to Bauhaus style while maintaining the original composition\"`\n\n### 3. Character Consistency\n**Framework:**\n- Specific description: `\"The woman with short black hair\"` instead of \"she\"\n- Preserve features: `\"while maintaining the same facial features, hairstyle, and expression\"`\n- Step-by-step modifications: Change background first, then actions\n\n### 4. Text Editing\n- Use quotes: `\"Replace 'joy' with 'BFL'\"`\n- Maintain format: `\"Replace text while maintaining the same font style\"`\n\n## Common Problem Solutions\n\n### Character Changes Too Much\nâŒ Wrong: `\"Transform the person into a Viking\"`\nâœ… Correct: `\"Change the clothes to be a viking warrior while preserving facial features\"`\n\n### Composition Position Changes\nâŒ Wrong: `\"Put him on a beach\"`\nâœ… Correct: `\"Change the background to a beach while keeping the person in the exact same position, scale, and pose\"`\n\n### Style Application Inaccuracy\nâŒ Wrong: `\"Make it a sketch\"`\nâœ… Correct: `\"Convert to pencil sketch with natural graphite lines, cross-hatching, and visible paper texture\"`\n\n## Core Principles\n\n1. **Be Specific and Clear** - Use precise descriptions, avoid vague terms\n2. **Step-by-step Editing** - Break complex modifications into multiple simple steps\n3. **Explicit Preservation** - State what should remain unchanged\n4. **Verb Selection** - Use \"change\", \"replace\" rather than \"transform\"\n\n## Best Practice Templates\n\n**Object Modification:**\n`\"Change [object] to [new state], keep [content to preserve] unchanged\"`\n\n**Style Transfer:**\n`\"Transform to [specific style], while maintaining [composition/character/other] unchanged\"`\n\n**Background Replacement:**\n`\"Change the background to [new background], keep the subject in the exact same position and pose\"`\n\n**Text Editing:**\n`\"Replace '[original text]' with '[new text]', maintain the same font style\"`\n\n> **Remember:** The more specific, the better. Kontext excels at understanding detailed instructions and maintaining consistency. "
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 37,
      "type": "UNETLoader",
      "pos": [
        -400,
        80
      ],
      "size": [
        337.76861572265625,
        82
      ],
      "flags": {},
      "order": 25,
      "mode": 0,
      "inputs": [
        {
          "name": "unet_name",
          "type": "COMBO",
          "widget": {
            "name": "unet_name"
          },
          "link": 296
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            58
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.38",
        "Node name for S&R": "UNETLoader",
        "models": [
          {
            "name": "flux1-dev-kontext_fp8_scaled.safetensors",
            "url": "https://huggingface.co/Comfy-Org/flux1-kontext-dev_ComfyUI/resolve/main/split_files/diffusion_models/flux1-dev-kontext_fp8_scaled.safetensors",
            "directory": "diffusion_models"
          }
        ]
      },
      "widgets_values": [
        "flux1-dev-kontext_fp8_scaled.safetensors",
        "default"
      ],
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 177,
      "type": "ReferenceLatent",
      "pos": [
        10,
        140
      ],
      "size": [
        197.712890625,
        46
      ],
      "flags": {},
      "order": 46,
      "mode": 0,
      "inputs": [
        {
          "name": "conditioning",
          "type": "CONDITIONING",
          "link": 294
        },
        {
          "name": "latent",
          "shape": 7,
          "type": "LATENT",
          "link": 293
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            292
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.41",
        "Node name for S&R": "ReferenceLatent"
      },
      "widgets_values": []
    },
    {
      "id": 178,
      "type": "MarkdownNote",
      "pos": [
        -30,
        -150
      ],
      "size": [
        540,
        150
      ],
      "flags": {},
      "order": 2,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "title": "About multiple images reference",
      "properties": {},
      "widgets_values": [
        "[English] In addition to using **Image Stitch** to combine two images at a time, you can also encode individual images, then concatenate multiple latent conditions using the **ReferenceLatent** node, thus achieving the purpose of referencing multiple images. You can use the **EmptySD3LatentImage** node on the right to connect to **KSamper** and customize the size of the **latent_image**.\n\n[ä¸­æ–‡] é™¤äº†ä½¿ç”¨ **Image Stitch** å°†ä¸¤ä¸ªä¸¤ä¸ªå›¾åƒæ‹¼åˆä¹‹å¤–ï¼Œä½ åŒæ ·å¯ä»¥å°†å•ç‹¬çš„å›¾åƒ encode ä¹‹åŽï¼Œå°†å¤šä¸ª latent æ¡ä»¶ä½¿ç”¨ **ReferenceLatent** èŠ‚ç‚¹ä¸²è”ï¼Œä»Žè€Œå®žçŽ°å¤šå¼ å›¾åƒå‚è€ƒçš„ç›®çš„ã€‚å¯ä»¥ä½¿ç”¨å³è¾¹çš„ **EmptySD3LatentImage** èŠ‚ç‚¹è¿žæŽ¥åˆ° **KSamper**æ¥è‡ªå®šä¹‰ **latent_image** çš„å°ºå¯¸"
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 188,
      "type": "EmptySD3LatentImage",
      "pos": [
        530,
        -140
      ],
      "size": [
        310,
        106
      ],
      "flags": {},
      "order": 3,
      "mode": 4,
      "inputs": [],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.41",
        "Node name for S&R": "EmptySD3LatentImage"
      },
      "widgets_values": [
        1024,
        1024,
        1
      ]
    },
    {
      "id": 180,
      "type": "MarkdownNote",
      "pos": [
        -1775.146240234375,
        61.93293762207031
      ],
      "size": [
        450,
        450
      ],
      "flags": {},
      "order": 4,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "title": "âœ¨ New ComfyUI feature for Flux.1 Kontext Dev",
      "properties": {},
      "widgets_values": [
        "[English]\nWe have added an **Edit** button to the **Selection Toolbox** of the node for **FLUX.1 Kontext Image Edit** support. When clicked, it quickly adds a **FLUX.1 Kontext Image Edit** group node to the Latent output of your current workflow. This enables an interactive editing experience where you can:\n\n- Create multiple editing iterations, each preserved as a separate node\n- Easily branch off from any previous edit point to explore different creative directions\n- Return to any earlier version and start a new editing branch\n- Modify parameters in earlier nodes and automatically update all downstream edits\n- Execute or re-execute any branch of edits at any time\n- When you want to maintain the effect of the corresponding branch, please set the seed of the corresponding group node to fixed.\n\n\nThis workflow mirrors the iterative nature of LLM conversations, but with the added advantage of visual editing and the ability to maintain multiple parallel editing paths.\n\n---\n\n[ä¸­æ–‡]\næˆ‘ä»¬ä¸º **FLUX.1 Kontext Image Edit** çš„ç›¸å…³æ”¯æŒåœ¨èŠ‚ç‚¹çš„**é€‰æ‹©å·¥å…·ç®±**ä¸Šæ–°å¢žäº†ä¸€ä¸ª**ç¼–è¾‘**æŒ‰é’®ã€‚ç‚¹å‡»åŽï¼Œç³»ç»Ÿä¼šåœ¨å½“å‰å·¥ä½œæµçš„ Latent è¾“å‡ºä¸Šå¿«é€Ÿæ·»åŠ ä¸€ä¸ª **FLUX.1 Kontext Image Edit** çš„ç»„èŠ‚ç‚¹ã€‚è¿™ç§è®¾è®¡å¸¦æ¥äº†çµæ´»çš„äº¤äº’å¼ç¼–è¾‘ä½“éªŒï¼š\n\n- åˆ›å»ºå¤šä¸ªç¼–è¾‘è¿­ä»£ï¼Œæ¯æ¬¡ç¼–è¾‘éƒ½ä¼šä¿å­˜ä¸ºç‹¬ç«‹èŠ‚ç‚¹\n- å¯ä»¥ä»Žä»»ä½•ä¹‹å‰çš„ç¼–è¾‘ç‚¹åˆ†æ”¯å‡ºæ–°çš„åˆ›ä½œæ–¹å‘\n- éšæ—¶è¿”å›žåˆ°æ—©æœŸç‰ˆæœ¬å¹¶å¼€å§‹æ–°çš„ç¼–è¾‘åˆ†æ”¯\n- ä¿®æ”¹æ—©æœŸèŠ‚ç‚¹çš„å‚æ•°ï¼Œè‡ªåŠ¨æ›´æ–°æ‰€æœ‰ä¸‹æ¸¸ç¼–è¾‘\n- å¯ä»¥éšæ—¶æ‰§è¡Œæˆ–é‡æ–°æ‰§è¡Œä»»ä½•ç¼–è¾‘åˆ†æ”¯\n- æƒ³è¦å›ºå®šå¯¹åº”åˆ†æ”¯æ•ˆæžœæ—¶ï¼Œè¯·å°†å¯¹åº”çš„ seed è®¾ç½®ä¸º fixed\n\nè¿™ç§å·¥ä½œæµç¨‹ç±»ä¼¼äºŽ LLM å¯¹è¯çš„è¿­ä»£ç‰¹æ€§ï¼Œä½†å¢žåŠ äº†è§†è§‰ç¼–è¾‘çš„ä¼˜åŠ¿ï¼Œå¹¶èƒ½å¤Ÿç»´æŠ¤å¤šä¸ªå¹¶è¡Œçš„ç¼–è¾‘è·¯å¾„ã€‚"
      ],
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 187,
      "type": "MarkdownNote",
      "pos": [
        -1305.146240234375,
        951.932861328125
      ],
      "size": [
        510,
        180
      ],
      "flags": {},
      "order": 5,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "title": "Flux Kontext æç¤ºè¯æŠ€å·§",
      "properties": {},
      "widgets_values": [
        "\n## Flux Kontext æç¤ºè¯æŠ€å·§\n\nä½¿ç”¨è‹±æ–‡\n\n### 1. åŸºç¡€ä¿®æ”¹\n- ç®€å•ç›´æŽ¥ï¼š`\"Change the car color to red\"`\n- ä¿æŒé£Žæ ¼ï¼š`\"Change to daytime while maintaining the same style of the painting\"`\n\n### 2. é£Žæ ¼è½¬æ¢\n**åŽŸåˆ™ï¼š**\n- æ˜Žç¡®å‘½åé£Žæ ¼ï¼š`\"Transform to Bauhaus art style\"`\n- æè¿°ç‰¹å¾ï¼š`\"Transform to oil painting with visible brushstrokes, thick paint texture\"`\n- ä¿ç•™æž„å›¾ï¼š`\"Change to Bauhaus style while maintaining the original composition\"`\n\n### 3. è§’è‰²ä¸€è‡´æ€§\n**æ¡†æž¶ï¼š**\n- å…·ä½“æè¿°ï¼š`\"The woman with short black hair\"`è€Œéž`\"å¥¹\"`\n- ä¿ç•™ç‰¹å¾ï¼š`\"while maintaining the same facial features, hairstyle, and expression\"`\n- åˆ†æ­¥ä¿®æ”¹ï¼šå…ˆæ”¹èƒŒæ™¯ï¼Œå†æ”¹åŠ¨ä½œ\n\n### 4. æ–‡æœ¬ç¼–è¾‘\n- ä½¿ç”¨å¼•å·ï¼š`\"Replace 'joy' with 'BFL'\"`\n- ä¿æŒæ ¼å¼ï¼š`\"Replace text while maintaining the same font style\"`\n\n## å¸¸è§é—®é¢˜è§£å†³\n\n### è§’è‰²å˜åŒ–è¿‡å¤§\nâŒ é”™è¯¯ï¼š`\"Transform the person into a Viking\"`\nâœ… æ­£ç¡®ï¼š`\"Change the clothes to be a viking warrior while preserving facial features\"`\n\n### æž„å›¾ä½ç½®æ”¹å˜\nâŒ é”™è¯¯ï¼š`\"Put him on a beach\"`\nâœ… æ­£ç¡®ï¼š`\"Change the background to a beach while keeping the person in the exact same position, scale, and pose\"`\n\n### é£Žæ ¼åº”ç”¨ä¸å‡†ç¡®\nâŒ é”™è¯¯ï¼š`\"Make it a sketch\"`\nâœ… æ­£ç¡®ï¼š`\"Convert to pencil sketch with natural graphite lines, cross-hatching, and visible paper texture\"`\n\n## æ ¸å¿ƒåŽŸåˆ™\n\n1. **å…·ä½“æ˜Žç¡®** - ä½¿ç”¨ç²¾ç¡®æè¿°ï¼Œé¿å…æ¨¡ç³Šè¯æ±‡\n2. **åˆ†æ­¥ç¼–è¾‘** - å¤æ‚ä¿®æ”¹åˆ†ä¸ºå¤šä¸ªç®€å•æ­¥éª¤\n3. **æ˜Žç¡®ä¿ç•™** - è¯´æ˜Žå“ªäº›è¦ä¿æŒä¸å˜\n4. **åŠ¨è¯é€‰æ‹©** - ç”¨\"æ›´æ”¹\"ã€\"æ›¿æ¢\"è€Œéž\"è½¬æ¢\"\n\n## æœ€ä½³å®žè·µæ¨¡æ¿\n\n**å¯¹è±¡ä¿®æ”¹ï¼š**\n`\"Change [object] to [new state], keep [content to preserve] unchanged\"`\n\n**é£Žæ ¼è½¬æ¢ï¼š**\n`\"Transform to [specific style], while maintaining [composition/character/other] unchanged\"`\n\n**èƒŒæ™¯æ›¿æ¢ï¼š**\n`\"Change the background to [new background], keep the subject in the exact same position and pose\"`\n\n**æ–‡æœ¬ç¼–è¾‘ï¼š**\n`\"Replace '[original text]' with '[new text]', maintain the same font style\"`\n\n> **è®°ä½ï¼š** è¶Šå…·ä½“è¶Šå¥½ï¼ŒKontext æ“…é•¿ç†è§£è¯¦ç»†æŒ‡ä»¤å¹¶ä¿æŒä¸€è‡´æ€§ã€‚"
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 175,
      "type": "MarkdownNote",
      "pos": [
        -50,
        640
      ],
      "size": [
        320,
        88
      ],
      "flags": {},
      "order": 6,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "title": "How to enable multiple image input",
      "properties": {},
      "widgets_values": [
        "Click on the **Load image (from output)** node and use **Ctrl + B** to enable multiple image input support."
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 189,
      "type": "MarkdownNote",
      "pos": [
        -400,
        1200
      ],
      "size": [
        340,
        90
      ],
      "flags": {},
      "order": 7,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "title": "About multi-round edit",
      "properties": {},
      "widgets_values": [
        "The **Load Image (from Outputs)** node allows you to fetch the last image from the output. Click on the **refresh** button to fetch the latest image or manually select an image from the dropdown list."
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 193,
      "type": "Hugging Face Download Model",
      "pos": [
        -753.5660400390625,
        397.902099609375
      ],
      "size": [
        295.2369079589844,
        106
      ],
      "flags": {},
      "order": 8,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "model name",
          "type": "*",
          "links": [
            295
          ]
        }
      ],
      "properties": {
        "cnr_id": "ComfyUI_HuggingFace_Downloader",
        "ver": "d996048592fd8767a2bd88c88294293353a0e99d",
        "Node name for S&R": "Hugging Face Download Model"
      },
      "widgets_values": [
        "vae",
        "https://huggingface.co/Comfy-Org/Lumina_Image_2.0_Repackaged/resolve/main/split_files/vae/ae.safetensors",
        ""
      ]
    },
    {
      "id": 194,
      "type": "Hugging Face Download Model",
      "pos": [
        -758.9669189453125,
        68.10254669189453
      ],
      "size": [
        295.2369079589844,
        106
      ],
      "flags": {},
      "order": 9,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "model name",
          "type": "*",
          "links": [
            297
          ]
        }
      ],
      "properties": {
        "cnr_id": "ComfyUI_HuggingFace_Downloader",
        "ver": "d996048592fd8767a2bd88c88294293353a0e99d",
        "Node name for S&R": "Hugging Face Download Model"
      },
      "widgets_values": [
        "clip",
        "https://huggingface.co/comfyanonymous/flux_text_encoders/blob/main/clip_l.safetensors",
        ""
      ]
    },
    {
      "id": 191,
      "type": "Hugging Face Download Model",
      "pos": [
        -762.7781372070312,
        242.81185913085938
      ],
      "size": [
        295.2369079589844,
        106
      ],
      "flags": {},
      "order": 10,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "model name",
          "type": "*",
          "links": [
            298
          ]
        }
      ],
      "properties": {
        "cnr_id": "ComfyUI_HuggingFace_Downloader",
        "ver": "d996048592fd8767a2bd88c88294293353a0e99d",
        "Node name for S&R": "Hugging Face Download Model"
      },
      "widgets_values": [
        "clip",
        "https://huggingface.co/comfyanonymous/flux_text_encoders/resolve/main/t5xxl_fp16.safetensors",
        ""
      ]
    },
    {
      "id": 8,
      "type": "VAEDecode",
      "pos": [
        533.6133422851562,
        377.5060119628906
      ],
      "size": [
        190,
        46
      ],
      "flags": {
        "collapsed": false
      },
      "order": 51,
      "mode": 0,
      "inputs": [
        {
          "name": "samples",
          "type": "LATENT",
          "link": 52
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 61
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "slot_index": 0,
          "links": [
            334
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.38",
        "Node name for S&R": "VAEDecode"
      },
      "widgets_values": []
    },
    {
      "id": 124,
      "type": "VAEEncode",
      "pos": [
        78.86221313476562,
        335.6065979003906
      ],
      "size": [
        240,
        50
      ],
      "flags": {
        "collapsed": false
      },
      "order": 41,
      "mode": 0,
      "inputs": [
        {
          "name": "pixels",
          "type": "IMAGE",
          "link": 222
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 223
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            291,
            293
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.39",
        "Node name for S&R": "VAEEncode"
      },
      "widgets_values": []
    },
    {
      "id": 196,
      "type": "PreviewImage",
      "pos": [
        -685.1137084960938,
        2540.077392578125
      ],
      "size": [
        140,
        246.00006103515625
      ],
      "flags": {},
      "order": 27,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 300
        }
      ],
      "outputs": [],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.49",
        "Node name for S&R": "PreviewImage"
      },
      "widgets_values": []
    },
    {
      "id": 198,
      "type": "Image Rembg (Remove Background)",
      "pos": [
        -510.64105224609375,
        2467.780517578125
      ],
      "size": [
        364.8125,
        250
      ],
      "flags": {},
      "order": 28,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 302
        }
      ],
      "outputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "links": [
            299,
            301
          ]
        }
      ],
      "properties": {
        "aux_id": "ltdrdata/was-node-suite-comfyui",
        "ver": "f86447721c18758d7b3b6ae5769f52344a3d764a",
        "Node name for S&R": "Image Rembg (Remove Background)"
      },
      "widgets_values": [
        true,
        "u2net",
        false,
        false,
        false,
        240,
        10,
        10,
        "none"
      ]
    },
    {
      "id": 200,
      "type": "Load Image Batch",
      "pos": [
        -1050.2786865234375,
        2476.8408203125
      ],
      "size": [
        293.416015625,
        270
      ],
      "flags": {},
      "order": 22,
      "mode": 0,
      "inputs": [
        {
          "name": "index",
          "type": "INT",
          "widget": {
            "name": "index"
          },
          "link": 304
        }
      ],
      "outputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "links": [
            300,
            302
          ]
        },
        {
          "name": "filename_text",
          "type": "STRING",
          "links": null
        }
      ],
      "properties": {
        "aux_id": "ltdrdata/was-node-suite-comfyui",
        "ver": "f86447721c18758d7b3b6ae5769f52344a3d764a",
        "Node name for S&R": "Load Image Batch"
      },
      "widgets_values": [
        "incremental_image",
        1029332696368897,
        "increment",
        37,
        "Batch 001",
        "/workspace/ComfyUI/input/test",
        "*",
        "false",
        "true"
      ]
    },
    {
      "id": 201,
      "type": "PrimitiveNode",
      "pos": [
        -1305.6717529296875,
        2467.813720703125
      ],
      "size": [
        210,
        82
      ],
      "flags": {},
      "order": 11,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "INT",
          "type": "INT",
          "widget": {
            "name": "index"
          },
          "links": [
            304
          ]
        }
      ],
      "title": "index",
      "properties": {
        "Run widget replace on values": false
      },
      "widgets_values": [
        37,
        "fixed"
      ]
    },
    {
      "id": 197,
      "type": "ImageToMask",
      "pos": [
        -83.65835571289062,
        2338.9140625
      ],
      "size": [
        270,
        58
      ],
      "flags": {},
      "order": 35,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 301
        }
      ],
      "outputs": [
        {
          "name": "MASK",
          "type": "MASK",
          "links": [
            303
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.49",
        "Node name for S&R": "ImageToMask"
      },
      "widgets_values": [
        "alpha"
      ]
    },
    {
      "id": 199,
      "type": "InvertMask",
      "pos": [
        248.57838439941406,
        2334.593017578125
      ],
      "size": [
        140,
        26
      ],
      "flags": {},
      "order": 38,
      "mode": 0,
      "inputs": [
        {
          "name": "mask",
          "type": "MASK",
          "link": 303
        }
      ],
      "outputs": [
        {
          "name": "MASK",
          "type": "MASK",
          "links": [
            305
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.49",
        "Node name for S&R": "InvertMask"
      },
      "widgets_values": []
    },
    {
      "id": 195,
      "type": "PreviewImage",
      "pos": [
        -94.34432983398438,
        2470.0625
      ],
      "size": [
        140,
        246.00006103515625
      ],
      "flags": {},
      "order": 34,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 299
        }
      ],
      "outputs": [],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.49",
        "Node name for S&R": "PreviewImage"
      },
      "widgets_values": []
    },
    {
      "id": 203,
      "type": "PreviewImage",
      "pos": [
        -601.5311279296875,
        1313.8572998046875
      ],
      "size": [
        140,
        246.00006103515625
      ],
      "flags": {},
      "order": 31,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 306
        }
      ],
      "outputs": [],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.49",
        "Node name for S&R": "PreviewImage"
      },
      "widgets_values": []
    },
    {
      "id": 146,
      "type": "ImageStitch",
      "pos": [
        -385.8204345703125,
        562.3701782226562
      ],
      "size": [
        270,
        150
      ],
      "flags": {},
      "order": 32,
      "mode": 0,
      "inputs": [
        {
          "name": "image1",
          "type": "IMAGE",
          "link": 314
        },
        {
          "name": "image2",
          "shape": 7,
          "type": "IMAGE",
          "link": 315
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            251
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.40",
        "Node name for S&R": "ImageStitch"
      },
      "widgets_values": [
        "right",
        true,
        0,
        "white"
      ]
    },
    {
      "id": 173,
      "type": "PreviewImage",
      "pos": [
        343.86181640625,
        851.87255859375
      ],
      "size": [
        420,
        310
      ],
      "flags": {},
      "order": 42,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 289
        }
      ],
      "outputs": [],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.40",
        "Node name for S&R": "PreviewImage"
      },
      "widgets_values": []
    },
    {
      "id": 142,
      "type": "LoadImageOutput",
      "pos": [
        -423.67120361328125,
        765.77880859375
      ],
      "size": [
        320,
        374
      ],
      "flags": {},
      "order": 12,
      "mode": 4,
      "inputs": [],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": []
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.40",
        "Node name for S&R": "LoadImageOutput"
      },
      "widgets_values": [
        "ComfyUI_00047_.png [output]",
        false,
        "refresh",
        "image"
      ],
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 6,
      "type": "CLIPTextEncode",
      "pos": [
        330,
        560
      ],
      "size": [
        400,
        220
      ],
      "flags": {},
      "order": 26,
      "mode": 0,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": 59
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "slot_index": 0,
          "links": [
            237,
            294
          ]
        }
      ],
      "title": "CLIP Text Encode (Positive Prompt)",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.38",
        "Node name for S&R": "CLIPTextEncode"
      },
      "widgets_values": [
        "Place the existing car into a vibrant rolling hills landscape filled with green grass and colorful wildflowers, matching the style and lighting of the reference hills image. Keep the carâ€™s exact position, angle, shape, color, and all details unchanged, except for natural adjustments to lighting and reflections to match the new environment."
      ],
      "color": "#232",
      "bgcolor": "#353"
    },
    {
      "id": 147,
      "type": "LoadImageOutput",
      "pos": [
        -64.2198486328125,
        770.1683959960938
      ],
      "size": [
        320,
        374
      ],
      "flags": {},
      "order": 13,
      "mode": 4,
      "inputs": [],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            315
          ]
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.40",
        "Node name for S&R": "LoadImageOutput"
      },
      "widgets_values": [
        "ComfyUI_00047_.png [output]",
        false,
        "refresh",
        "image"
      ],
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 211,
      "type": "EmptyLatentImage",
      "pos": [
        3625.686767578125,
        1113.43115234375
      ],
      "size": [
        315,
        106
      ],
      "flags": {},
      "order": 14,
      "mode": 4,
      "inputs": [],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "slot_index": 0,
          "links": [
            320
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.44",
        "Node name for S&R": "EmptyLatentImage"
      },
      "widgets_values": [
        512,
        512,
        1
      ],
      "color": "#323",
      "bgcolor": "#535"
    },
    {
      "id": 213,
      "type": "KSampler",
      "pos": [
        4495.6875,
        893.4315185546875
      ],
      "size": [
        315,
        571
      ],
      "flags": {},
      "order": 36,
      "mode": 4,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 317
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 318
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 319
        },
        {
          "name": "latent_image",
          "type": "LATENT",
          "link": 320
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "slot_index": 0,
          "links": [
            316,
            326
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.44",
        "Node name for S&R": "KSampler"
      },
      "widgets_values": [
        484980362973548,
        "randomize",
        12,
        8,
        "dpmpp_sde",
        "normal",
        1
      ]
    },
    {
      "id": 214,
      "type": "KSampler",
      "pos": [
        4065.687744140625,
        1493.43115234375
      ],
      "size": [
        315,
        571
      ],
      "flags": {},
      "order": 44,
      "mode": 4,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 321
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 322
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 323
        },
        {
          "name": "latent_image",
          "type": "LATENT",
          "link": 324
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "slot_index": 0,
          "links": [
            329
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.44",
        "Node name for S&R": "KSampler"
      },
      "widgets_values": [
        904329265124588,
        "randomize",
        14,
        8,
        "dpmpp_2m",
        "simple",
        0.5
      ]
    },
    {
      "id": 216,
      "type": "CLIPTextEncode",
      "pos": [
        4005.687744140625,
        1143.43115234375
      ],
      "size": [
        420,
        180
      ],
      "flags": {},
      "order": 29,
      "mode": 4,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": 325
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "slot_index": 0,
          "links": [
            319,
            323
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.44",
        "Node name for S&R": "CLIPTextEncode"
      },
      "widgets_values": [
        "bad hands, text, watermark,nsfw\n"
      ],
      "color": "#223",
      "bgcolor": "#335"
    },
    {
      "id": 217,
      "type": "VAEDecode",
      "pos": [
        4855.68701171875,
        923.4315185546875
      ],
      "size": [
        210,
        46
      ],
      "flags": {
        "collapsed": true
      },
      "order": 40,
      "mode": 4,
      "inputs": [
        {
          "name": "samples",
          "type": "LATENT",
          "link": 326
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 327
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "slot_index": 0,
          "links": [
            328
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.44",
        "Node name for S&R": "VAEDecode"
      },
      "widgets_values": []
    },
    {
      "id": 218,
      "type": "PreviewImage",
      "pos": [
        4855.68701171875,
        963.4315185546875
      ],
      "size": [
        560,
        400
      ],
      "flags": {},
      "order": 45,
      "mode": 4,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 328
        }
      ],
      "outputs": [],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.44",
        "Node name for S&R": "PreviewImage"
      },
      "widgets_values": []
    },
    {
      "id": 219,
      "type": "VAEDecode",
      "pos": [
        4495.6875,
        1493.43115234375
      ],
      "size": [
        210,
        46
      ],
      "flags": {
        "collapsed": true
      },
      "order": 47,
      "mode": 4,
      "inputs": [
        {
          "name": "samples",
          "type": "LATENT",
          "link": 329
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 330
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "slot_index": 0,
          "links": [
            331
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.44",
        "Node name for S&R": "VAEDecode"
      },
      "widgets_values": []
    },
    {
      "id": 220,
      "type": "SaveImage",
      "pos": [
        4505.68701171875,
        1533.43115234375
      ],
      "size": [
        920,
        560
      ],
      "flags": {},
      "order": 49,
      "mode": 4,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 331
        }
      ],
      "outputs": [],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.44"
      },
      "widgets_values": [
        "ComfyUI"
      ]
    },
    {
      "id": 222,
      "type": "CheckpointLoaderSimple",
      "pos": [
        3621.885009765625,
        912.0811767578125
      ],
      "size": [
        315,
        98
      ],
      "flags": {},
      "order": 23,
      "mode": 4,
      "inputs": [
        {
          "name": "ckpt_name",
          "type": "COMBO",
          "widget": {
            "name": "ckpt_name"
          },
          "link": 333
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "slot_index": 0,
          "links": [
            317,
            321
          ]
        },
        {
          "name": "CLIP",
          "type": "CLIP",
          "slot_index": 1,
          "links": [
            325,
            332
          ]
        },
        {
          "name": "VAE",
          "type": "VAE",
          "slot_index": 2,
          "links": [
            327,
            330
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.44",
        "Node name for S&R": "CheckpointLoaderSimple",
        "models": [
          {
            "name": "DreamShaper_8_pruned.safetensors",
            "url": "https://huggingface.co/Lykon/DreamShaper/resolve/main/DreamShaper_8_pruned.safetensors",
            "directory": "checkpoints"
          }
        ]
      },
      "widgets_values": [
        "DreamShaper_8_pruned.safetensors"
      ],
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 212,
      "type": "LatentUpscale",
      "pos": [
        3625.686767578125,
        1483.43115234375
      ],
      "size": [
        315,
        130
      ],
      "flags": {},
      "order": 39,
      "mode": 4,
      "inputs": [
        {
          "name": "samples",
          "type": "LATENT",
          "link": 316
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            324
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.44",
        "Node name for S&R": "LatentUpscale"
      },
      "widgets_values": [
        "nearest-exact",
        768,
        768,
        "disabled"
      ],
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 184,
      "type": "MarkdownNote",
      "pos": [
        -1305.146240234375,
        61.93293762207031
      ],
      "size": [
        510,
        400
      ],
      "flags": {},
      "order": 15,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "title": "Model links",
      "properties": {},
      "widgets_values": [
        "[tutorial](http://docs.comfy.org/tutorials/flux/flux-1-kontext-dev) | [æ•™ç¨‹](http://docs.comfy.org/zh-CN/tutorials/flux/flux-1-kontext-dev)\n\n**diffusion model**\n\n- [flux1-dev-kontext_fp8_scaled.safetensors](https://huggingface.co/Comfy-Org/flux1-kontext-dev_ComfyUI/resolve/main/split_files/diffusion_models/flux1-dev-kontext_fp8_scaled.safetensors)\n\n**vae**\n\n- [ae.safetensors](https://huggingface.co/Comfy-Org/Lumina_Image_2.0_Repackaged/blob/main/split_files/vae/ae.safetensors)\n\n**text encoder**\n\n- [clip_l.safetensors](https://huggingface.co/comfyanonymous/flux_text_encoders/blob/main/clip_l.safetensors)\n- [t5xxl_fp16.safetensors](https://huggingface.co/comfyanonymous/flux_text_encoders/resolve/main/t5xxl_fp16.safetensors) or [t5xxl_fp8_e4m3fn_scaled.safetensors](https://huggingface.co/comfyanonymous/flux_text_encoders/resolve/main/t5xxl_fp8_e4m3fn_scaled.safetensors)\n\nModel Storage Location\n\n```\nðŸ“‚ ComfyUI/\nâ”œâ”€â”€ ðŸ“‚ models/\nâ”‚   â”œâ”€â”€ ðŸ“‚ diffusion_models/\nâ”‚   â”‚   â””â”€â”€ flux1-dev-kontext_fp8_scaled.safetensors\nâ”‚   â”œâ”€â”€ ðŸ“‚ vae/\nâ”‚   â”‚   â””â”€â”€ ae.safetensor\nâ”‚   â””â”€â”€ ðŸ“‚ text_encoders/\nâ”‚       â”œâ”€â”€ clip_l.safetensors\nâ”‚       â””â”€â”€ t5xxl_fp16.safetensors æˆ–è€… t5xxl_fp8_e4m3fn_scaled.safetensors\n```\n"
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 202,
      "type": "MaskPreview",
      "pos": [
        505.6126403808594,
        2331.0087890625
      ],
      "size": [
        210,
        262.0364990234375
      ],
      "flags": {},
      "order": 43,
      "mode": 0,
      "inputs": [
        {
          "name": "mask",
          "type": "MASK",
          "link": 305
        }
      ],
      "outputs": [],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.49",
        "Node name for S&R": "MaskPreview"
      },
      "widgets_values": []
    },
    {
      "id": 223,
      "type": "Hugging Face Download Model",
      "pos": [
        3251.136962890625,
        920.5355224609375
      ],
      "size": [
        295.2369079589844,
        106
      ],
      "flags": {},
      "order": 16,
      "mode": 4,
      "inputs": [],
      "outputs": [
        {
          "name": "model name",
          "type": "*",
          "links": [
            333
          ]
        }
      ],
      "properties": {
        "cnr_id": "ComfyUI_HuggingFace_Downloader",
        "ver": "d996048592fd8767a2bd88c88294293353a0e99d",
        "Node name for S&R": "Hugging Face Download Model"
      },
      "widgets_values": [
        "checkpoints",
        "https://huggingface.co/Lykon/DreamShaper/resolve/main/DreamShaper_8_pruned.safetensors",
        ""
      ]
    },
    {
      "id": 221,
      "type": "CLIPTextEncode",
      "pos": [
        4005.687744140625,
        923.4315185546875
      ],
      "size": [
        422.8500061035156,
        164.30999755859375
      ],
      "flags": {},
      "order": 30,
      "mode": 4,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": 332
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "slot_index": 0,
          "links": [
            318,
            322
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.44",
        "Node name for S&R": "CLIPTextEncode"
      },
      "widgets_values": [
        "hight HDR victorian portrait painting of woman, blonde hair, mountain nature, blue sky, (oil painting:1.1)"
      ],
      "color": "#232",
      "bgcolor": "#353"
    },
    {
      "id": 215,
      "type": "MarkdownNote",
      "pos": [
        3206.39892578125,
        637.2936401367188
      ],
      "size": [
        328,
        128
      ],
      "flags": {},
      "order": 17,
      "mode": 4,
      "inputs": [],
      "outputs": [],
      "properties": {},
      "widgets_values": [
        "### Learn more about this workflow\n\n> [Hires Fix - ComfyUI_examples](https://comfyanonymous.github.io/ComfyUI_examples/2_pass_txt2img/) â€” Overview\n> \n> [ComfyUI Image Upscale - docs.comfy.org](https://docs.comfy.org/tutorials/basic/upscale) â€” Upscaling step-by-step tutorial"
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 205,
      "type": "Load Image Batch",
      "pos": [
        -966.6962280273438,
        1250.62060546875
      ],
      "size": [
        293.416015625,
        270
      ],
      "flags": {},
      "order": 24,
      "mode": 0,
      "inputs": [
        {
          "name": "index",
          "type": "INT",
          "widget": {
            "name": "index"
          },
          "link": 308
        }
      ],
      "outputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "links": [
            306,
            314
          ]
        },
        {
          "name": "filename_text",
          "type": "STRING",
          "links": null
        }
      ],
      "properties": {
        "aux_id": "ltdrdata/was-node-suite-comfyui",
        "ver": "f86447721c18758d7b3b6ae5769f52344a3d764a",
        "Node name for S&R": "Load Image Batch"
      },
      "widgets_values": [
        "single_image",
        1029332696368897,
        "increment",
        0,
        "Batch 001",
        "/workspace/ComfyUI/input/test",
        "*",
        "false",
        "true"
      ]
    },
    {
      "id": 206,
      "type": "PrimitiveNode",
      "pos": [
        -1222.089599609375,
        1241.593505859375
      ],
      "size": [
        210,
        82
      ],
      "flags": {},
      "order": 18,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "INT",
          "type": "INT",
          "widget": {
            "name": "index"
          },
          "links": [
            308
          ]
        }
      ],
      "title": "index",
      "properties": {
        "Run widget replace on values": false
      },
      "widgets_values": [
        0,
        "increment"
      ]
    },
    {
      "id": 225,
      "type": "SaveImage",
      "pos": [
        1245.247802734375,
        714.0855712890625
      ],
      "size": [
        270,
        58
      ],
      "flags": {},
      "order": 52,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 334
        }
      ],
      "outputs": [],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.49"
      },
      "widgets_values": [
        "ComfyUI"
      ]
    },
    {
      "id": 31,
      "type": "KSampler",
      "pos": [
        813.6953735351562,
        718.4432373046875
      ],
      "size": [
        320,
        498.97296142578125
      ],
      "flags": {},
      "order": 50,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 58
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 57
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 238
        },
        {
          "name": "latent_image",
          "type": "LATENT",
          "link": 291
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "slot_index": 0,
          "links": [
            52
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.38",
        "Node name for S&R": "KSampler"
      },
      "widgets_values": [
        344496230136757,
        "randomize",
        20,
        1,
        "euler",
        "simple",
        1
      ]
    },
    {
      "id": 190,
      "type": "Hugging Face Download Model",
      "pos": [
        -765.8427124023438,
        -90.64884948730469
      ],
      "size": [
        295.2369079589844,
        106
      ],
      "flags": {},
      "order": 19,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "model name",
          "type": "*",
          "links": [
            296
          ]
        }
      ],
      "properties": {
        "cnr_id": "ComfyUI_HuggingFace_Downloader",
        "ver": "d996048592fd8767a2bd88c88294293353a0e99d",
        "Node name for S&R": "Hugging Face Download Model"
      },
      "widgets_values": [
        "diffusion_models",
        "https://huggingface.co/Comfy-Org/flux1-kontext-dev_ComfyUI/resolve/main/split_files/diffusion_models/flux1-dev-kontext_fp8_scaled.safetensors",
        ""
      ]
    }
  ],
  "links": [
    [
      52,
      31,
      0,
      8,
      0,
      "LATENT"
    ],
    [
      57,
      35,
      0,
      31,
      1,
      "CONDITIONING"
    ],
    [
      58,
      37,
      0,
      31,
      0,
      "MODEL"
    ],
    [
      59,
      38,
      0,
      6,
      0,
      "CLIP"
    ],
    [
      61,
      39,
      0,
      8,
      1,
      "VAE"
    ],
    [
      222,
      42,
      0,
      124,
      0,
      "IMAGE"
    ],
    [
      223,
      39,
      0,
      124,
      1,
      "VAE"
    ],
    [
      237,
      6,
      0,
      135,
      0,
      "CONDITIONING"
    ],
    [
      238,
      135,
      0,
      31,
      2,
      "CONDITIONING"
    ],
    [
      251,
      146,
      0,
      42,
      0,
      "IMAGE"
    ],
    [
      289,
      42,
      0,
      173,
      0,
      "IMAGE"
    ],
    [
      291,
      124,
      0,
      31,
      3,
      "LATENT"
    ],
    [
      292,
      177,
      0,
      35,
      0,
      "CONDITIONING"
    ],
    [
      293,
      124,
      0,
      177,
      1,
      "LATENT"
    ],
    [
      294,
      6,
      0,
      177,
      0,
      "CONDITIONING"
    ],
    [
      295,
      193,
      0,
      39,
      0,
      "COMBO"
    ],
    [
      296,
      190,
      0,
      37,
      0,
      "COMBO"
    ],
    [
      297,
      194,
      0,
      38,
      0,
      "COMBO"
    ],
    [
      298,
      191,
      0,
      38,
      1,
      "COMBO"
    ],
    [
      299,
      198,
      0,
      195,
      0,
      "IMAGE"
    ],
    [
      300,
      200,
      0,
      196,
      0,
      "IMAGE"
    ],
    [
      301,
      198,
      0,
      197,
      0,
      "IMAGE"
    ],
    [
      302,
      200,
      0,
      198,
      0,
      "IMAGE"
    ],
    [
      303,
      197,
      0,
      199,
      0,
      "MASK"
    ],
    [
      304,
      201,
      0,
      200,
      0,
      "INT"
    ],
    [
      305,
      199,
      0,
      202,
      0,
      "MASK"
    ],
    [
      306,
      205,
      0,
      203,
      0,
      "IMAGE"
    ],
    [
      308,
      206,
      0,
      205,
      0,
      "INT"
    ],
    [
      314,
      205,
      0,
      146,
      0,
      "IMAGE"
    ],
    [
      315,
      147,
      0,
      146,
      1,
      "IMAGE"
    ],
    [
      316,
      213,
      0,
      212,
      0,
      "LATENT"
    ],
    [
      317,
      222,
      0,
      213,
      0,
      "MODEL"
    ],
    [
      318,
      221,
      0,
      213,
      1,
      "CONDITIONING"
    ],
    [
      319,
      216,
      0,
      213,
      2,
      "CONDITIONING"
    ],
    [
      320,
      211,
      0,
      213,
      3,
      "LATENT"
    ],
    [
      321,
      222,
      0,
      214,
      0,
      "MODEL"
    ],
    [
      322,
      221,
      0,
      214,
      1,
      "CONDITIONING"
    ],
    [
      323,
      216,
      0,
      214,
      2,
      "CONDITIONING"
    ],
    [
      324,
      212,
      0,
      214,
      3,
      "LATENT"
    ],
    [
      325,
      222,
      1,
      216,
      0,
      "CLIP"
    ],
    [
      326,
      213,
      0,
      217,
      0,
      "LATENT"
    ],
    [
      327,
      222,
      2,
      217,
      1,
      "VAE"
    ],
    [
      328,
      217,
      0,
      218,
      0,
      "IMAGE"
    ],
    [
      329,
      214,
      0,
      219,
      0,
      "LATENT"
    ],
    [
      330,
      222,
      2,
      219,
      1,
      "VAE"
    ],
    [
      331,
      219,
      0,
      220,
      0,
      "IMAGE"
    ],
    [
      332,
      222,
      1,
      221,
      0,
      "CLIP"
    ],
    [
      333,
      223,
      0,
      222,
      0,
      "COMBO"
    ],
    [
      334,
      8,
      0,
      225,
      0,
      "IMAGE"
    ]
  ],
  "groups": [
    {
      "id": 1,
      "title": "Step 1- Load models",
      "bounding": [
        -410,
        10,
        360,
        450
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 3,
      "title": "Step 2 - Upload images",
      "bounding": [
        -410,
        480,
        700,
        680
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 5,
      "title": "Step 3 - Prompt",
      "bounding": [
        310,
        480,
        430,
        330
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 6,
      "title": "Conditioning",
      "bounding": [
        -30,
        10,
        540,
        250
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 7,
      "title": "Step3 - Prompt",
      "bounding": [
        3975.687744140625,
        843.4315795898438,
        490,
        540
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 8,
      "title": "Preview Intermediate Image",
      "bounding": [
        4835.68701171875,
        853.4315795898438,
        600,
        530
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 9,
      "title": "Hires Fix",
      "bounding": [
        3975.687744140625,
        1413.43115234375,
        490,
        570
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 10,
      "title": "Save Final Image",
      "bounding": [
        4495.6875,
        1413.43115234375,
        950,
        700
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 11,
      "title": "Step1 - Load model",
      "bounding": [
        3611.885009765625,
        842.0812377929688,
        335,
        181.60000610351562
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 12,
      "title": "Step2 - Image size",
      "bounding": [
        3615.686767578125,
        1043.4312744140625,
        335,
        189.60000610351562
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 13,
      "title": "Step4 - Upscale latent",
      "bounding": [
        3615.686767578125,
        1413.43115234375,
        335,
        213.60000610351562
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    }
  ],
  "config": {},
  "extra": {
    "ds": {
      "scale": 0.6727499949325663,
      "offset": [
        1489.102818096328,
        -605.711416659865
      ]
    },
    "frontendVersion": "1.26.2",
    "groupNodes": {},
    "VHS_latentpreview": true,
    "VHS_latentpreviewrate": 0,
    "VHS_MetadataImage": true,
    "VHS_KeepIntermediate": true
  },
  "version": 0.4
}